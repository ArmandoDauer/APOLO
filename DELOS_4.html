<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Booking Method Evaluation</title>
  <style>
    body {
      background-color: #e5eff5;
      font-family: sans-serif;
      margin: 0;
      padding-top: 140px;
      box-sizing: border-box;
    }

    .flow {
      top: 0;
      left: 0;
      right: 0;
      background-color: #e5eff5;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 20px 10px;
      justify-content: center;
      z-index: 1000;
      flex-wrap: wrap;
      position: fixed;
    }

    .step, .step-label {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }

    .step {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: #1e90ff;
      color: white;
    }

    .step.active {
      background-color: #87cefa;
      color: black;
    }

    .step-label {
      position: absolute;
      top: 60px;
      font-size: 12px;
      width: 80px;
      text-align: center;
    }

    .step-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .arrow {
      width: 30px;
      height: 5px;
      background-color: #a0a0a0;
    }

    .triangle-start, .triangle-end {
      width: 0;
      height: 0;
      border-top: 25px solid transparent;
      border-bottom: 25px solid transparent;
    }

    .triangle-start {
      border-left: 40px solid #1e90ff;
    }

    .triangle-end {
      border-right: 40px solid #1e90ff;
    }

    .triangle-start.active {
      border-left-color: #87cefa;
    }

    .triangle-end.active {
      border-right-color: #87cefa;
    }

    .content {
      max-width: 1000px;
      margin: 0 auto;
      padding: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background-color: #fff;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: left;
    }

    th {
      background-color: #f0f8ff;
      text-align: center;
    }

    select {
      padding: 6px;
      font-size: 14px;
      border-radius: 6px;
    }

    .next-button, .back-button {
      position: fixed;
      bottom: 20px;
      padding: 10px 20px;
      background-color: #add8e6;
      border: 1px solid #000;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
    }

    .next-button {
      right: 40px;
    }

    .back-button {
      left: 40px;
    }

    .next-button:hover, .back-button:hover {
      background-color: #90c7e6;
    }

    h1 {
      text-align: center;
    }
  </style>
</head>
<body>

  <!-- Fluxograma fixo -->
  <div class="flow">
    <div class="triangle-container">
      <div class="triangle-start"></div>
      <div class="triangle-label">Start</div>
    </div>
    <div class="arrow"></div>

    <div class="step-container">
      <div class="step">1</div>
      <div class="step-label">Directive Variables</div>
    </div>
    <div class="arrow"></div>

    <div class="step-container">
      <div class="step">2</div>
      <div class="step-label">MUSE</div>
    </div>
    <div class="arrow"></div>

    <div class="step-container">
      <div class="step">3</div>
      <div class="step-label">ARTEMIS</div>
    </div>
    <div class="arrow"></div>

    <div class="step-container">
      <div class="step active">4</div>
      <div class="step-label">DELOS</div>
    </div>
    <div class="arrow"></div>

    <div class="triangle-container">
        <div class="triangle-end"></div>
      <div class="triangle-label">End</div>
    </div>
  </div>

<!-- Content -->
<div class="content">
  <h1>Payment Method Evaluation</h1>
    <p>Classify the following circunstances regarding the paying methodology</p>
  <table>
    <thead>
      <tr>
        <th>Circunstance</th>
        <th>Pro/Con evalutaions</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>
</div>

<!-- Buttons -->
<button class="next-button" onclick="calculateSums()">NEXT</button>
<button class="back-button" onclick="window.location.href='DELOS_3.html'">BACK</button>

<script>
  const rows = [
        "The passenger's boarding process is quick.",
        "First time passengers may be confused about how to pay for the trip.",
        "The passenger must pay the fare in advance, via a physical or digital system.",
        "The passenger can access the system in quick and spontaneous way.",
        "The driver's workload is reduced.",
        "Driver will have to recieve the passenger's money and return change.",
        "Some methodology (electronic or manual) must be developed to verify the paymnet of fares.",
        "There is no need to additional elements to manage ticket selling.",
        "The number of issues during boarding is reduced (such as lack of cash or change).",
        "Integration with other transport services is harder."
  ];

  const options = `
    <option value="">Select...</option>
    <option value="3">Strongly Pro</option>
    <option value="1">Slightly Pro</option>
    <option value="0">Neutral</option>
    <option value="-1">Slightly Con</option>
    <option value="-3">Strongly Con</option>
  `;

  const tableBody = document.getElementById("tableBody");

  rows.forEach((label, idx) => {
    tableBody.innerHTML += `
      <tr>
        <td>${label}</td>
        <td><select id="row_${idx}">${options}</select></td>
      </tr>
    `;
  });

  function calculateSums() {
    let sum = { Credit_Based: 0, When_Boarding: 0};
    const values = [];

    for (let i = 0; i < rows.length; i++) {
      const val = parseInt(document.getElementById(`row_${i}`).value);
      if (isNaN(val)) {
        alert("Please classify all items before continuing.");
        return;
      }
      values.push(val);
    }

    // Manual assignment for full control
      sum.Credit_Based += values[0];
      sum.Credit_Based += values[1];
      sum.Credit_Based += values[2];
      sum.Credit_Based += values[4];
      sum.Credit_Based += values[6];
      sum.Credit_Based += values[8];
      sum.When_Boarding += values[3];
      sum.When_Boarding += values[5];
      sum.When_Boarding += values[7];
      sum.When_Boarding += values[9];



    // Save
    localStorage.setItem("Credit_Based", sum.Credit_Based);
    localStorage.setItem("When_Boarding", sum.When_Boarding);

    window.location.href = 'DELOS_5.html';
  }
</script>

</body>
</html>
